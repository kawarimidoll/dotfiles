---
aliases: [pr, pull-request]
description: "プルリクエストを作成する（ブランチ管理、プッシュ、PR作成まで一括実行）"
agent: pr-maker
---

# /pr - プルリクエスト作成コマンド

`pr-maker`エージェントを使用して、現在の変更を含むプルリクエストを作成します。
コミット済みの変更確認、ブランチ管理、リモートへのプッシュ、PR作成まで自動で実行します。

## 使用方法

```
/pr [オプション]
```

### オプション
- `draft`: Draft PRとして作成
- 引数なし: 通常のPRを作成

## 実行内容

1. **事前確認**
   - コミット済みの変更があることを確認
   - 現在のブランチとリモート設定を確認
   - ベースブランチを自動検出

2. **ブランチ処理**
   - mainブランチの場合は自動的に作業ブランチを作成
   - ブランチ名は変更内容から自動生成

3. **リモートプッシュ**
   - 変更をリモートリポジトリにプッシュ
   - 初回プッシュの場合は`-u`オプションで上流設定

4. **PR作成**
   - 過去のPRやコミットメッセージを参考にタイトル生成
   - 変更内容を分析してPR説明文を作成
   - GitHub CLIを使用してPR作成
   - PR URLを表示

## 実行ルール

- **自動化**: 可能な限り自動で判断し、ユーザーの手間を削減
- **安全性**: mainブランチへの直接作業を防止
- **一貫性**: 過去のPRやコミットのスタイルに準拠
- **完全性**: PR作成に必要なすべての手順を実行

## エラー時の対処

pr-makerエージェントが以下の問題を自動的に検出・報告します：

- コミットされていない変更がある場合
- GitHub CLIの認証が必要な場合
- リモートリポジトリへのアクセス権限がない場合
- ベースブランチとのコンフリクトがある場合

## 関連コマンド

- `/commit` - 変更をコミット（commit-makerエージェント使用）
- `/fix` - コード品質チェック（quality-fixerエージェント使用）
