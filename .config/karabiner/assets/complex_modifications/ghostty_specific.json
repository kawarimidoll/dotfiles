{
  "title": "Ghostty settings",
  "description": "Karabiner settings for Ghostty",
  "rules": [
    {
      "description": "Multiple actions chaining in Ghostty",
      "manipulators": [
        {
          "conditions": [
            {
              "bundle_identifiers": ["^com\\.mitchellh\\.ghostty$"],
              "type": "frontmost_application_if"
            }
          ],
          "description": "Cmd+Shift+Q → ' vim ' + Cmd+Shift+A + Return",
          "from": {
            "key_code": "a",
            "modifiers": { "mandatory": ["command", "shift"] }
          },
          "to": [
            { "key_code": "japanese_eisuu" },
            { "key_code": "spacebar" },
            { "key_code": "v" },
            { "key_code": "i" },
            { "key_code": "m" },
            { "key_code": "spacebar" }
          ],
          "to_after_key_up": [
            {
              "key_code": "a",
              "modifiers": ["command", "shift"]
            },
            { "key_code": "return_or_enter" }
          ],
          "type": "basic"
        },
        {
          "conditions": [
            {
              "bundle_identifiers": ["^com\\.mitchellh\\.ghostty$"],
              "type": "frontmost_application_if"
            }
          ],
          "description": "Cmd+{ → Cmd+[ then Cmd+Shift+Enter",
          "from": {
            "key_code": "open_bracket",
            "modifiers": { "mandatory": ["command", "shift"] }
          },
          "to": [
            { "key_code": "japanese_eisuu" },
            {
              "key_code": "open_bracket",
              "modifiers": ["command"]
            }
          ],
          "to_after_key_up": [
            {
              "key_code": "return_or_enter",
              "modifiers": ["command", "shift"]
            }
          ],
          "type": "basic"
        },
        {
          "conditions": [
            {
              "bundle_identifiers": ["^com\\.mitchellh\\.ghostty$"],
              "type": "frontmost_application_if"
            }
          ],
          "description": "Cmd+} → Cmd+] then Cmd+Shift+Enter",
          "from": {
            "key_code": "close_bracket",
            "modifiers": { "mandatory": ["command", "shift"] }
          },
          "to": [
            { "key_code": "japanese_eisuu" },
            {
              "key_code": "close_bracket",
              "modifiers": ["command"]
            }
          ],
          "to_after_key_up": [
            {
              "key_code": "return_or_enter",
              "modifiers": ["command", "shift"]
            }
          ],
          "type": "basic"
        }
      ]
    },
    {
      "description": "Cmd+z to undo in Ghostty",
      "manipulators": [
        {
          "conditions": [
            {
              "bundle_identifiers": ["^com\\.mitchellh\\.ghostty$"],
              "type": "frontmost_application_if"
            }
          ],
          "description": "Cmd+z then Ctrl+Shift+hyphen",
          "from": {
            "key_code": "z",
            "modifiers": { "mandatory": ["command"] }
          },
          "to": [
            { "key_code": "japanese_eisuu" },
            {
              "key_code": "hyphen",
              "modifiers": ["control", "shift"]
            }
          ],
          "type": "basic"
        }
      ]
    }
  ]
}
